import{_ as P,r as g,o as S,b as s,d as $,e as f,f as d,g as e,m as u,w as l,k as v,I as b,t as i,h as T,y,z as k}from"./index-JqcLm-KS.js";const j={class:"remote-logs-container"},q={class:"logs-header"},A={class:"config-form"},F={class:"log-viewer-header"},G={class:"log-content-wrapper"},H={class:"log-content"},J={key:0},K={__name:"RemoteLogs",setup(O){const r=g(!1),m=g(""),t=g({enabled:!1,host:"",port:514,protocol:"udp"}),h=async()=>{r.value=!0;try{const o=await y.get("/api/diagnostics/remote-logs");m.value=o.data.logs}catch(o){console.error("Błąd pobierania zdalnych logów:",o),m.value="Błąd podczas ładowania zdalnych logów"}finally{r.value=!1}},C=async()=>{try{await y.post("/api/diagnostics/remote-logs/config",t.value),k.success("$t{'systemLogs.configSaved}")}catch{k.error("$t{'systemLogs.configError}")}},B=async()=>{try{const o=await y.get("/api/diagnostics/remote-logs/config");t.value=o.data.config}catch{}};return S(async()=>{await B(),t.value.enabled&&await h()}),(o,a)=>{const _=s("el-icon"),z=s("el-switch"),c=s("el-form-item"),R=s("el-input"),p=s("el-col"),U=s("el-input-number"),w=s("el-option"),E=s("el-select"),I=s("el-row"),L=s("el-button"),N=s("el-form"),V=s("el-card"),D=s("el-divider"),M=s("el-skeleton");return f(),$("div",j,[d("div",q,[d("h2",null,[e(_,null,{default:l(()=>[e(v(b),{icon:"mdi:server-network"})]),_:1}),u(" "+i(o.$t("systemLogs.remoteLogs")),1)])]),e(V,{class:"config-card"},{default:l(()=>[d("div",A,[e(N,{model:t.value,"label-position":"top"},{default:l(()=>[e(c,{label:o.$t("systemLogs.enableRemote")},{default:l(()=>[e(z,{modelValue:t.value.enabled,"onUpdate:modelValue":a[0]||(a[0]=n=>t.value.enabled=n),"active-text":o.$t("systemLogs.enableRemote")},null,8,["modelValue","active-text"])]),_:1},8,["label"]),e(I,{gutter:20},{default:l(()=>[e(p,{span:12},{default:l(()=>[e(c,{label:o.$t("systemLogs.host")},{default:l(()=>[e(R,{modelValue:t.value.host,"onUpdate:modelValue":a[1]||(a[1]=n=>t.value.host=n),placeholder:o.$t("systemLogs.host"),disabled:!t.value.enabled},null,8,["modelValue","placeholder","disabled"])]),_:1},8,["label"])]),_:1}),e(p,{span:6},{default:l(()=>[e(c,{label:o.$t("systemLogs.port")},{default:l(()=>[e(U,{modelValue:t.value.port,"onUpdate:modelValue":a[2]||(a[2]=n=>t.value.port=n),min:1,max:65535,disabled:!t.value.enabled},null,8,["modelValue","disabled"])]),_:1},8,["label"])]),_:1}),e(p,{span:6},{default:l(()=>[e(c,{label:o.$t("systemLogs.protocol")},{default:l(()=>[e(E,{modelValue:t.value.protocol,"onUpdate:modelValue":a[3]||(a[3]=n=>t.value.protocol=n),disabled:!t.value.enabled},{default:l(()=>[e(w,{label:"UDP",value:"udp"}),e(w,{label:"TCP",value:"tcp"})]),_:1},8,["modelValue","disabled"])]),_:1},8,["label"])]),_:1})]),_:1}),e(c,null,{default:l(()=>[e(L,{type:"primary",onClick:C},{default:l(()=>[u(i(o.$t("systemLogs.saveConfig")),1)]),_:1})]),_:1})]),_:1},8,["model"])])]),_:1}),e(D),e(V,{class:"log-viewer-card"},{default:l(()=>[d("div",F,[d("h3",null,[e(_,null,{default:l(()=>[e(v(b),{icon:"mdi:file-document-multiple-outline"})]),_:1}),u(" "+i(o.$t("systemLogs.receivedLogs")),1)]),e(L,{type:"primary",size:"small",onClick:h,loading:r.value},{default:l(()=>[e(_,null,{default:l(()=>[e(v(b),{icon:"mdi:refresh"})]),_:1}),u(" "+i(o.$t("systemLogs.refresh")),1)]),_:1},8,["loading"])]),d("div",G,[d("div",H,[r.value?(f(),T(M,{key:1,rows:10,animated:""})):(f(),$("pre",J,i(m.value),1))])])]),_:1})])}}},W=P(K,[["__scopeId","data-v-972041d3"]]);export{W as default};
